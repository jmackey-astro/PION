# parameter file for Initial Condition Generation.
# tuned for photoevaporation problem with random clumps

## Basic Properties
ndim 1
coordinates spherical
eqn euler
solver 9

# Which ICs to set up {Uniform, AdvectionHD, BlastWave, ShockCloud,
# MHDShockCloud ShockTube...}
ics BlastWave

# Output FileName Base
OutputFile    BW1D_phys_d1l2n128


# Number and type of tracers.
ntracer 0
chem_code None
InitIons LEAVE

# Which physics to use
EP_dynamics     1
EP_raytracing   0
EP_phot_ionisation   0
EP_cooling      0
EP_chemistry    0
EP_coll_ionisation   0
EP_rad_recombination 0
EP_update_erg 1
EP_MP_timestep_limit 0
EP_Min_Temperature 0
EP_Max_Temperature 1.0e99
EP_Hydrogen_MassFrac 1.0
EP_Helium_MassFrac   0.0
EP_Metal_MassFrac    0.0
EP_sat_thermal_cond 0
EP_tc_strength 0.0
EP_compton_cool       0
EP_wind_acceleration  0



# Smooth Data by n cells? (n<=0 means no).
smooth -1
# Add noise at level of f% to Data? (f<=0 means no).
noise -1 #0.5

## Grid Parameters
# Number of gridpoints in each direction (note cells must be cubic!)
# INT
NGridX  128
NGridY  128
NGridZ  64

# Boundaries of Simulation box:
Xmin  0.0
Ymin  0.0e18
Zmin -4.629e18
# Max values of x,y,z
Xmax  30.86e18
#Xmax 1.0
Ymax  6.172e18 
Zmax  4.629e18
########################
# Nested grid
grid_nlevels 2
grid_aspect_ratio_XX 1
grid_aspect_ratio_YY 1
grid_aspect_ratio_ZZ 1
NG_centre_XX 0.0e18
NG_centre_YY 0.0e18
NG_centre_ZZ 0.0e18
NG_refine_XX 1
NG_refine_YY 1
NG_refine_ZZ 1
########################


# Data Output Path
OutputPath silo/
# Output File Type = {text,fits,ftab,both,...}
OutputFileType silo  #fits #both
# Output data to file every nth timestep. (n=0 means only at the end).
OutputFrequency 25
OutputCriterion 1    # output per n-years=1, per step=0
OPfreqTime 6.32e10   # in seconds

# Start time
StartTime 0.0
FinishTime 1.58e12  # 50kyr
# Order of Accuracy (1=1st order; 2=2nd order)
OrderOfAccSpace 2
OrderOfAccTime  2

# Type of Boundary Condition
BC_XN reflecting
BC_XP outflow
BC_Ninternal 0

# ideal gas adiabatic index, gamma {1.6666666666666666, 1.4, 2.0} limits (1,2]
GAMMA 1.666666666666666666666

# CFL coefficient 0<cfl<1
CFL 0.3
# Artificial Viscosity 0=None, 1=Falle's linear viscosity.
ArtificialViscosity 1
EtaViscosity 0.1

# Code Units
# Reference systems of units are MKS (i.e. SI), CGS, others?
units 
# One code unit is this number of reference units.
rhoval 1
lenval 1
velval 1
magval 1


##############################################
## Parameters specific for various problems ##
##############################################
##################
### BLAST WAVE ###
##################
BWpressure 1.38e-11   # ambient pressure (10^3K for 100 per c.c.)
BWdensity  2.34e-22   # ambient density (~100 per c.c.)

BWmagfieldX 0.0    # Magnetic field strength
BWmagfieldY 0.0    # Magnetic field strength
BWmagfieldZ 0.0      # Magnetic field strength

BW_energy      1.0e51
BW_nzones      1
BW_blast_dens  2.34e-22

#############################
# Ambient Medium Parameters #
#############################
PERCradialslope 0.0 # radial slope away from source in background density.
PERC_ambRO 3.34e-23 # =100 per c.c.
PERC_ambPG 1.38e-11 # P_g = rho*kT/mu/m_p
PERC_ambVX 0.0
PERC_ambVY 0.0
PERC_ambVZ 0.0
PERC_ambBX 1.0e-6
PERC_ambBY 1.0e-6
PERC_ambBZ 15.0e-6
PERC_ambTR0 1.0e-6
PERC_ambTR1 0.0
PERC_ambTR2 0.0
PERC_ambTR3 0.0
PERC_ambTR4 0.0
PERC_ambTR5 0.0
PERC_ambTR6 0.0

#########################
# radiation source list #
#########################
RT_Nsources 0

########################
# stellar wind sources #
########################
WIND_NSRC 0

####################
# Reference Vector #
####################
refvec0 1.0e-23  # ~10 particles /cc
refvec1 3.0e-10  # T ~ 10^3K
refvec2 1.0e6    # v ~ 100 km/s = 1.e7 cm/s
refvec3 1.0e6    # v 
refvec4 1.0e6    # v 
refvec5 1.0e-5   # B (gauss)
refvec6 1.0e-5
refvec7 1.0e-5
refvec8 1.0
refvec9 1.0
refvec10 1.0
refvec11 1.0
refvec12 1.0
refvec13 1.0
refvec14 1.0
refvec15 1.0

# Anything else?  
