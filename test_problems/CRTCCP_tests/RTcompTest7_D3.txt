# parameter file for Initial Condition Generation.
# JM 2010: for comparing my code with Iliev et al cosmological
# code comparison tests.
#

## Basic Properties
# Dimensionality of Grid {1,2,3}
ndim 3
coordinates cartesian

# Type of Equations to Solve {hd, mhd, glm-mhd, ...}
eqn  euler
solver RShybrid

# Which ICs to set up {Uniform, AdvectionHD, BlastWave, ShockCloud,
# MHDShockCloud ShockTube...}
ics PhotEvap_MultiClumps_FixMass

# IC filename
ICfilename IC_RTcompTest7_D3
# Output FileName Base
OutputFile    RTcompTest7_D3

# Number and type of tracers.
ntracer 2
trtype MPv3__H1+___Colour #ChALL_H1+___e-____ #He1+__He2+__
InitIons LEAVE  #NO
Tracer0 0.0
Tracer1 0.0
Tracer2 0.0
Tracer3 0.0
Tracer4 0.0

# Which physics to use
EP_dynamics     1
EP_raytracing   1
EP_phot_ionisation   1
EP_cooling      1
EP_chemistry    1
EP_coll_ionisation   1
EP_rad_recombination 1
EP_update_erg 1
EP_MP_timestep_limit 1 
EP_Min_Temperature 50.0
EP_Max_Temperature 1.0e6


# Smooth Data by n cells? (n<=0 means no).
smooth -1
# Add noise at level of f% to Data? (f<=0 means no).
noise -1.0

## Grid Parameters
# Number of gridpoints in each direction (note cells must be cubic!)
# INT
NGridX  128
NGridY  128
NGridZ  128
# Boundaries of Simulation box:
Xmin  0.0
Ymin  0.0
Zmin  0.0
# Max values of x,y,z
Xmax  2.03676e22 # 6.6kpc
Ymax  2.03676e22 # 6.6kpc
Zmax  2.03676e22 # 6.6kpc

# Data Output Path
OutputPath ./
# Output File Type = {text,fits,ftab,both,...}
OutputFileType silo
# Output data to file every nth timestep. (n=0 means only at the end).
OutputFrequency 0
OutputCriterion 0    # output per n-years=1, per step=0
OPfreqTime 3.16e13   # in seconds!!! --> 1 Myr

# Start time
StartTime 0.0
FinishTime 3.16e14
# Order of Accuracy (1=1st order; 2=2nd order)
OrderOfAccSpace 2
OrderOfAccTime  2

# Type of Boundary Condition {FIXED, ABSORBING, PERIODIC, ...}
BC XNout_XPout_YNout_YPout_ZNout_ZPout_

# ideal gas adiabatic index, gamma {1.6666666666666666, 1.4, 2.0} limits (1,2]
GAMMA 1.666666666666666666666

# CFL coefficient 0<cfl<1
CFL 0.3
# Artificial Viscosity 0=None, 1=Falle's linear viscosity.
ArtificialViscosity 1
EtaViscosity 0.1

# Code Units
# Reference systems of units are MKS (i.e. SI), CGS, others?
units 
# One code unit is this number of reference units.
rhoval 1
lenval 1
velval 1
magval 1

##############################################
## Parameters specific for various problems ##
##############################################

#####################
# Add Random Clumps #
#####################
PERC_addrandomclumps NO

PERCempty_xn 0.1 # What fraction of x-dir empty on star-side of grid.
PERCempty_xp 0.005 # what fraction of x-dir empty on far side of grid.
PERCempty_yn 0.005 # Fraction of neg. y-dir empty of clumps.
PERCempty_yp 0.005 # Fraction of pos. y-dir empty of clumps.
PERCempty_zn 0.005 # Fraction of neg. z-dir empty of clumps.
PERCempty_zp 0.005 # Fraction of pos. z-dir empty of clumps.

PERC_mean_clump_density 400.0
PERCrandomseed 19062009
PERCclump_profile 1  # 0=top-hat, 1=Gaussian
PERCmin_size 0.03 # as fraction of box size in y-dir.
PERCmax_size 0.05 # as fraction of box size in y-dir.

## Clump Tracer Values
PERCcloudTR0 1.0e-6  # cloud first tracer value (ion fraction)
PERCcloudTR1 1.0   # cloud 2nd tracer value (colour)

PERC_selection_criterion Fixed_Mass_Range
#PERC_selection_criterion Fixed_Number

## Fixed Number of Clumps Params:
PERCnumclumps 50

## Fixed Mass Range Clumps Params:
PERCmin_mass 0.01
PERCmax_mass 0.03

# clump properties which are now defunct...
PERCclump_mass 0.9  # put this much mass in clumps (fraction of total mass).
PERCmin_overdensity 20.0 # defunct
PERCmax_overdensity 50.0 # defunct


###############################
# Strategically Placed Clumps #
###############################
# positions and radii are in units of Y-Range
#
PE_SC_addstrategicclumps YES
PE_SC_numclumps 1
PE_SC_clump_profile 0 # 0=top-hat,1=Gaussian

PE_SC0_overdensity 199
PE_SC0_xpos 0.7575757575757575757
PE_SC0_ypos 0.5
PE_SC0_zpos 0.5
PE_SC0_radius 0.1212121212121212121212
PE_SC0_cloudTR0 1.0e-6
PE_SC0_cloudTR1 1.0
PE_SC0_cloudTR2 -1.0
PE_SC0_cloudTR3 -1.0
PE_SC0_cloudTR4 -1.0
PE_SC0_cloudTR5 -1.0

PE_SC1_overdensity 250
PE_SC1_xpos 0.3
PE_SC1_ypos 0.48
PE_SC1_zpos 0.6
PE_SC1_radius 0.075
PE_SC1_cloudTR0 1.0e-6
PE_SC1_cloudTR1 -1.0
PE_SC1_cloudTR2 -1.0
PE_SC1_cloudTR3 -1.0
PE_SC1_cloudTR4 -1.0
PE_SC1_cloudTR5 -1.0

PE_SC2_overdensity 500
PE_SC2_xpos 0.5
PE_SC2_ypos 0.48
PE_SC2_zpos 0.48
PE_SC2_radius 0.06
PE_SC2_cloudTR0 1.0e-6
PE_SC2_cloudTR1 -1.0
PE_SC2_cloudTR2 -1.0
PE_SC2_cloudTR3 -1.0
PE_SC2_cloudTR4 -1.0
PE_SC2_cloudTR5 -1.0


#############################
# Ambient Medium Parameters #
#############################
PERCradialslope 0.0 # radial slope away from source in background density.
PERC_ambRO 3.34e-28 # 2e-4 per c.c.
PERC_ambPG 2.208e-16 # P_g = rho*kT/mu/m_p
PERC_ambVX 0.0
PERC_ambVY 0.0
PERC_ambVZ 0.0
PERC_ambBX 0.0  #7.43e-5 #2.1210e-5
PERC_ambBY 0.0  #2.82e-6 # 10 micro-Gauss
PERC_ambBZ 0.0
PERC_ambTR0 1.0e-6
PERC_ambTR1 0.0
PERC_ambTR2 0.0
PERC_ambTR3 0.0
PERC_ambTR4 0.0
PERC_ambTR5 0.0
PERC_ambTR6 0.0

#########################
# radiation source list #
#########################
#
RT_Nsources 1
# This source has 1e6 ionising photons/sec from infinity
RT_position_0_0  -2.0e200
RT_position_0_1  1.01838e22
RT_position_0_2  1.01838e22
RT_strength_0    5.30624e-05 # erg/s for multifrequency source.
RT_Rstar____0    3.9381e-22   # Radius of star in solar radii.
RT_Tstar____0    1.0e5     # Stellar effective temperature.
RT_src_type_0    1  # 1=single src, 2=diffuse-radiation.
RT_at_infty_0    1  # 0=no, 1=yes.
RT_update___0    2  # 1=C2Ray update, 2=New update.
RT_effect___0    3  # 1=UV heating, 2=mono-photoionisation, 3=multi-photoion
RT_Tau_src__0    2  # 1=total column, 2=nH*(1-y_i), 3=nH*(y_i)
RT_Tau_var__0    0  # opacity variably y_i (this is its index in state vector)

########################
# stellar wind sources #
########################
WIND_NSRC 0





# Reference Vector
refvec0 1.0e-26  # ~0.01 particles /cc
refvec1 1.0e-14  # T ~ 10^4K
refvec2 1.0e6    # v ~ 100 km/s = 1.e7 cm/s
refvec3 1.0e6    # v 
refvec4 1.0e6    # v 
refvec5 1.0e-6   # B (gauss)
refvec6 1.0e-6
refvec7 1.0e-6
refvec8 1.0
refvec9 1.0
refvec10 1.0
refvec11 1.0
refvec12 1.0
refvec13 1.0
refvec14 1.0
refvec15 1.0

# Anything else?  
